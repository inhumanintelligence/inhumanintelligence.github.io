<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kay</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    min-height: 100vh;
    font-family: 'Nunito', sans-serif;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    overflow-x: hidden; padding: 48px 24px;
    background: #0a0a0a;
  }

  .bg {
    position: fixed; inset: 0;
    background: url('438ff2ad92e75220bba802cc4e824def.jpg') center center / cover no-repeat;
    filter: blur(22px) brightness(0.5) grayscale(0.5) contrast(1.05);
    transform: scale(1.1); z-index: 0;
  }

  .vignette {
    position: fixed; inset: 0;
    background: radial-gradient(ellipse at center,
      rgba(0,0,0,0.05) 0%, rgba(0,0,0,0.3) 55%, rgba(0,0,0,0.7) 100%);
    z-index: 1;
  }

  .scanlines {
    position: fixed; inset: 0;
    background: repeating-linear-gradient(to bottom,
      transparent 0px, transparent 3px,
      rgba(0,0,0,0.06) 3px, rgba(0,0,0,0.06) 4px);
    z-index: 2; pointer-events: none;
  }

  .wrap {
    position: relative; z-index: 10;
    display: flex; flex-direction: column;
    align-items: center; gap: 16px;
    width: 100%; max-width: 400px;
  }

  /* shimmer border wrapper */
  @property --angle {
    syntax: '<angle>';
    initial-value: 0deg;
    inherits: false;
  }

  .card-wrap {
    position: relative; width: 100%;
    border-radius: 34px; padding: 2px;
    animation: popIn 0.7s cubic-bezier(0.34,1.56,0.64,1) both;
  }

  .card-wrap::before {
    content: '';
    position: absolute; inset: 0;
    border-radius: 34px;
    background: conic-gradient(
      from var(--angle),
      #000 0%, #111 10%, #2a2a2a 18%,
      #555 25%, #909090 32%, #d0d0d0 38%,
      #fff 43%, #d0d0d0 48%, #909090 55%,
      #555 62%, #2a2a2a 70%, #111 78%,
      #000 85%, #000 100%
    );
    animation: borderSpin 2.8s linear infinite;
    z-index: 0;
  }

  @keyframes borderSpin { to { --angle: 360deg; } }

  .card {
    position: relative; z-index: 1;
    width: 100%;
    background: rgba(14,14,14,0.95);
    backdrop-filter: blur(32px); -webkit-backdrop-filter: blur(32px);
    border-radius: 32px; padding: 40px 36px 36px;
    display: flex; flex-direction: column;
    align-items: center; gap: 24px;
    box-shadow: 0 1px 0 rgba(255,255,255,0.07) inset, 0 24px 64px rgba(0,0,0,0.8);
    transition: transform 0.5s cubic-bezier(0.23,1,0.32,1);
  }

  @keyframes popIn {
    from { opacity: 0; transform: scale(0.92) translateY(20px); }
    to   { opacity: 1; transform: scale(1) translateY(0); }
  }

  .avatar-wrap {
    position: relative; width: 90px; height: 90px;
    display: flex; align-items: center; justify-content: center;
  }

  .avatar-ring {
    position: absolute; inset: -1px; border-radius: 50%;
    background: conic-gradient(
      #444 0deg, #1a1a1a 60deg, #000 120deg,
      #1a1a1a 180deg, #555 240deg, #1a1a1a 300deg, #444 360deg
    );
    -webkit-mask: radial-gradient(circle, transparent 41.5px, black 42.5px);
    mask: radial-gradient(circle, transparent 41.5px, black 42.5px);
    animation: spin 2.5s linear infinite;
  }

  @keyframes spin { to { transform: rotate(360deg); } }

  .avatar {
    width: 82px; height: 82px; border-radius: 50%;
    overflow: hidden; background: #111; border: 1px solid #1a1a1a;
  }

  .avatar img {
    width: 100%; height: 100%; object-fit: cover;
    object-position: 72% 78%; display: block;
    filter: grayscale(30%) brightness(0.85) contrast(1.1);
  }

  .name-section {
    display: flex; flex-direction: column;
    align-items: center; gap: 6px;
  }

  h1 {
    font-size: 32px; font-weight: 900;
    letter-spacing: -0.8px; color: #f0f0f0;
    text-shadow: 0 2px 20px rgba(0,0,0,0.8);
  }

  .handle {
    font-size: 12px; font-weight: 700;
    color: #666; letter-spacing: 1.5px; text-transform: uppercase;
  }

  .status {
    display: flex; align-items: center; gap: 7px;
    background: #0d0d0d; border: 1px solid #1f1f1f;
    border-radius: 100px; padding: 6px 14px;
  }

  .status-dot {
    width: 6px; height: 6px; border-radius: 50%;
    background: #6fff8a; box-shadow: 0 0 6px #6fff8a;
    animation: blink 2.4s ease-in-out infinite;
  }

  @keyframes blink { 0%,100% { opacity:1; } 50% { opacity:0.3; } }
  .status span { font-size: 11px; font-weight: 700; color: #555; }

  .now-playing {
    width: 100%; background: #0d0d0d;
    border: 1px solid #1f1f1f; border-radius: 18px;
    padding: 14px 18px;
    display: flex; align-items: center; gap: 12px;
    cursor: pointer; transition: border-color 0.2s;
  }

  .now-playing:hover { border-color: #2e2e2e; }

  .bars {
    display: flex; align-items: flex-end;
    gap: 2px; height: 16px; flex-shrink: 0;
  }

  .bar {
    width: 3px; border-radius: 2px; background: #555;
    animation: bounce var(--d) ease-in-out infinite alternate;
  }

  .bar:nth-child(1) { --d:.6s; height:6px; }
  .bar:nth-child(2) { --d:.4s; height:14px; }
  .bar:nth-child(3) { --d:.7s; height:10px; }
  .bar:nth-child(4) { --d:.5s; height:16px; }

  @keyframes bounce {
    from { transform: scaleY(0.3); }
    to   { transform: scaleY(1); }
  }

  .track-info {
    display: flex; flex-direction: column; gap: 2px; overflow: hidden; flex: 1;
  }

  .track-name {
    font-size: 12px; font-weight: 800; color: #ccc;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }

  .track-artist { font-size: 11px; font-weight: 600; color: #444; }
  .edit-hint { font-size: 10px; font-weight: 700; color: #2a2a2a; flex-shrink: 0; }

  .edit-overlay {
    display: none; position: fixed; inset: 0; z-index: 100;
    align-items: center; justify-content: center;
    background: rgba(0,0,0,0.7); backdrop-filter: blur(6px);
  }

  .edit-overlay.open { display: flex; }

  .edit-box {
    background: #0d0d0d; border: 1px solid #2a2a2a;
    border-radius: 24px; padding: 28px 28px 24px;
    width: 100%; max-width: 340px;
    display: flex; flex-direction: column; gap: 14px;
    animation: popIn 0.3s cubic-bezier(0.34,1.56,0.64,1) both;
  }

  .edit-box h2 {
    font-size: 14px; font-weight: 900;
    color: #888; letter-spacing: 1px; text-transform: uppercase;
  }

  .edit-box input {
    width: 100%; background: #111; border: 1px solid #222;
    border-radius: 12px; padding: 11px 14px;
    color: #ccc; font-family: 'Nunito', sans-serif;
    font-size: 13px; font-weight: 700;
    outline: none; transition: border-color 0.2s;
  }

  .edit-box input::placeholder { color: #333; }
  .edit-box input:focus { border-color: #444; }
  .edit-actions { display: flex; gap: 8px; justify-content: flex-end; }

  .btn {
    padding: 9px 18px; border-radius: 12px;
    font-family: 'Nunito', sans-serif;
    font-size: 12px; font-weight: 800;
    cursor: pointer; border: none; transition: opacity 0.15s;
  }

  .btn:hover { opacity: 0.75; }
  .btn-cancel { background: #1a1a1a; color: #555; }
  .btn-save   { background: #2a2a2a; color: #ccc; }
</style>
</head>
<body>

<div class="bg"></div>
<div class="vignette"></div>
<div class="scanlines"></div>

<audio id="bg-audio" src="https://inhumanintelligence.github.io/main/Crystal%20Castles%20-%20Transgender%20(SPOTISAVER).mp3" loop preload="auto"></audio>

<div class="edit-overlay" id="editOverlay">
  <div class="edit-box">
    <h2>Now Playing</h2>
    <input type="text" id="inputTrack" placeholder="Song name" maxlength="60">
    <input type="text" id="inputArtist" placeholder="Artist" maxlength="60">
    <div class="edit-actions">
      <button class="btn btn-cancel" id="btnCancel">Cancel</button>
      <button class="btn btn-save" id="btnSave">Save</button>
    </div>
  </div>
</div>

<div class="wrap">
  <div class="card-wrap">
    <div class="card" id="card">

      <div class="avatar-wrap">
        <div class="avatar-ring"></div>
        <div class="avatar">
          <img src="438ff2ad92e75220bba802cc4e824def.jpg" alt="Kay">
        </div>
      </div>

      <div class="name-section">
        <h1>Kay</h1>
        <span class="handle">@tmsu</span>
      </div>

      <div class="status">
        <div class="status-dot"></div>
        <span>online</span>
      </div>

      <div class="now-playing" id="nowPlaying">
        <div class="bars">
          <div class="bar"></div>
          <div class="bar"></div>
          <div class="bar"></div>
          <div class="bar"></div>
        </div>
        <div class="track-info">
          <span class="track-name" id="trackName">Transgender</span>
          <span class="track-artist" id="trackArtist">Crystal Castles</span>
        </div>
        <span class="edit-hint">edit</span>
      </div>

    </div>
  </div>
</div>

<script>
  const card        = document.getElementById('card');
  const overlay     = document.getElementById('editOverlay');
  const inputTrack  = document.getElementById('inputTrack');
  const inputArtist = document.getElementById('inputArtist');
  const trackName   = document.getElementById('trackName');
  const trackArtist = document.getElementById('trackArtist');
  const audio       = document.getElementById('bg-audio');

  function tryPlay() {
    audio.play().catch(() => {});
    document.removeEventListener('click', tryPlay);
    document.removeEventListener('keydown', tryPlay);
    document.removeEventListener('touchstart', tryPlay);
  }

  document.addEventListener('click', tryPlay);
  document.addEventListener('keydown', tryPlay);
  document.addEventListener('touchstart', tryPlay);

  document.getElementById('nowPlaying').addEventListener('click', () => {
    inputTrack.value  = trackName.textContent;
    inputArtist.value = trackArtist.textContent;
    overlay.classList.add('open');
    inputTrack.focus();
  });

  document.getElementById('btnCancel').addEventListener('click', () => overlay.classList.remove('open'));
  document.getElementById('btnSave').addEventListener('click', save);

  document.addEventListener('keydown', e => {
    if (e.key === 'Enter' && overlay.classList.contains('open')) save();
    if (e.key === 'Escape') overlay.classList.remove('open');
  });

  function save() {
    const t = inputTrack.value.trim();
    const a = inputArtist.value.trim();
    if (t) trackName.textContent   = t;
    if (a) trackArtist.textContent = a;
    overlay.classList.remove('open');
  }

  document.addEventListener('mousemove', e => {
    const dx = (e.clientX / window.innerWidth  - 0.5) * 2;
    const dy = (e.clientY / window.innerHeight - 0.5) * 2;
    card.style.transform = `perspective(900px) rotateY(${dx*3}deg) rotateX(${-dy*3}deg)`;
  });
  document.addEventListener('mouseleave', () => { card.style.transform = ''; });
  document.addEventListener('touchmove', e => {
    const t = e.touches[0];
    const dx = (t.clientX / window.innerWidth  - 0.5) * 2;
    const dy = (t.clientY / window.innerHeight - 0.5) * 2;
    card.style.transform = `perspective(900px) rotateY(${dx*3}deg) rotateX(${-dy*3}deg)`;
  }, { passive: true });
  document.addEventListener('touchend', () => { card.style.transform = ''; });
</script>
</body>
</html>
